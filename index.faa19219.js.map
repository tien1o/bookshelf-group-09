{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-3b55ef3dcc2e28e6.js","src/index.js","src/js/section-main-books.js","src/js/modal.js","node_modules/@parcel/runtime-js/lib/runtime-f43804e610e291ac.js","node_modules/@parcel/runtime-js/lib/runtime-6b9dee0fc9ba4fc8.js","node_modules/@parcel/runtime-js/lib/runtime-332a1c4920575761.js","node_modules/@parcel/runtime-js/lib/runtime-9489bd37b5f7df61.js","node_modules/@parcel/runtime-js/lib/runtime-a799bd073b85539b.js","node_modules/@parcel/runtime-js/lib/runtime-0a51626a173ecec6.js","node_modules/@parcel/runtime-js/lib/runtime-03442c886f2e2618.js","src/js/list-of-categories.js","src/js/getcategories.js","src/js/scrollup.js","src/js/switcher-theme.js","src/js/loader.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"5ZPII\\\":\\\"index.faa19219.js\\\",\\\"azb7q\\\":\\\"amazon.06fa7713.png\\\",\\\"fS0QX\\\":\\\"amazon@2x.4eae58f9.png\\\",\\\"lLZQs\\\":\\\"book.57ecc8dc.png\\\",\\\"7W0St\\\":\\\"book@2x.c5385d25.png\\\",\\\"68qT8\\\":\\\"book-shop.e5effbae.png\\\",\\\"5K0oH\\\":\\\"book-shop@2.3b8922c8.png\\\",\\\"auHWm\\\":\\\"noImage-Medium.53d4ac22.png\\\",\\\"etMPu\\\":\\\"shopping-list.5387465d.css\\\",\\\"cT7DD\\\":\\\"shopping-list.8ba583a7.js\\\",\\\"a8cj2\\\":\\\"shopping-list.6d264c87.js\\\"}\"));","//Header Js\n\n//apiBooks\nimport apiBooks from './js/apiBooks';\n//Main Books\nimport sectionMainBooks from './js/section-main-books';\n//Support Ukraine\nimport supportUkraine from './js/support-ukraine';\n//Category Page\n\n//List of Categories\n\n//Modal window\nimport { openModal } from './js/modal';\n//Category list\nimport CategoryList from './js/list-of-categories';\n// Scroll up\nimport ScrollUp from './js/scrollup';\n// Switcher theme\nimport SwitcherTheme from './js/switcher-theme';\n// load\nimport Loader from './js/loader';\n// Autorization\nimport Registration from './js/modal-regietr';\n// import './js/firebase-config';\n// import './js/firebase-user';\n","import {booksApi} from './apiBooks'\nimport { openModal } from './modal';\nimport {image} from '../images/without-Image/noImage-Medium.png'\n\n\nconst mainSectionsBooks = document.querySelector('.bookcase');\nlet renderWidth = 375;\n\nwindow.addEventListener('resize', resizeWindow);\n\nfunction resizeWindow() {\n \n \n  if (\n    window.innerWidth > 767 && renderWidth < 768 ||\n    window.innerWidth > 1439 && renderWidth < 1440 ||\n    window.innerWidth < 1440 && renderWidth > 1439 ||\n    window.innerWidth < 768 && renderWidth > 767\n  ) {\n    location.reload();\n  }\n}\n\nrenderWidth = window.innerWidth;\nlet renderedBooks = 1;\nif (renderWidth < 768) {\n  renderedBooks = 1;\n} else if (renderWidth > 767 && renderWidth < 1440) {\n  renderedBooks = 3;\n} else {\n  renderedBooks = 5;\n}\n\nexport async function renderAllCategories() {\n  \n   const titleAllCategoriesMain = `<h1 class='bookcase__title'>\n          Best Sellers <span class='bookcase__filter'>Books</span>\n        </h1>`;\n\n        const containerBooksList = document.createElement('ul');\n        containerBooksList.classList.add('bookshelf__list');\n        containerBooksList.classList.add('list');\n    await booksApi()\n       .then(data => {\n         const markap = data.map(({list_name, books}) =>{\n          // console.log(list_name, books)\nreturn `<li class='book__card__item'>\n<h2 class='bookshelf__title__category'>${list_name}</h2>\n<ul class='bookshelf__content book-card__list list'>${books.map(({\n   _id,\n   book_image_height,\n   book_image_width,\n   author,\n   book_image,\n   title,\n }) => {\n\nif (!book_image) {\nbook_image = image\nbook_image_height = 500;\nbook_image_width = 330;\n \n} \n\n   return `<li class='book-card__item'data-id=${_id}>\n <a class='book-card__link' href='#' data-id='${_id}'>\n   <div class='book-card__wrapper'>\n     <img class='book-card__image' src='${book_image}' alt=\"Here must be book's name\"\n     loading=\"lazy\"\n     width='${book_image_width}'\n     height='${book_image_height}'>\n     <div class='book-card__overlay'>\n       <p class='book-card__quick-view-text'>quick view</p>\n     </div>\n   </div>\n </a>\n <div class='book-card__wrap'>\n   <h3 class='book__card__name'>${title ? title : 'Unknown title'}</h3>\n   <p class='book__card__author'>${author ? author : 'Unknown author'}</p>\n </div>\n</li>`;\n }\n)\n.slice(0, renderedBooks)\n.join('')}\n</ul>\n<button class='book__see__more__btn' type='button' data-see-more data-category-name='${list_name}'>see more</button>\n</li>`}).join('')\ncontainerBooksList.innerHTML = markap;\nmainSectionsBooks.innerHTML = titleAllCategoriesMain;\nmainSectionsBooks.appendChild(containerBooksList)\n         \n const bookElements = document.querySelectorAll('.book-card__item');\n bookElements.forEach(el => el.addEventListener('click', (event) => {\n  event.preventDefault()\n  openModal(el)}));\n\n})}\nrenderAllCategories()","import { booksId } from './apiBooks';\nimport amazon from '../images/partners/amazon.png';\nimport amazon2x from '../images/partners/amazon@2x.png';\nimport apple from '../images/partners/book.png';\nimport apple2x from '../images/partners/book@2x.png';\nimport bookShop from '../images/partners/book-shop.png';\nimport bookShop2x from '../images/partners/book-shop@2.png';\n\nconst LOCAL_KEY = 'booksID';\n\nexport async function openModal(element) {\n  const bookId = element.dataset.id;\n  console.log(bookId);\n\n  const dataBook = await booksId(bookId);\n  console.log(dataBook);\n\n  const backdrop = document.querySelector('.backdrop');\n  backdrop.classList.remove('is-hidden');\n\n  const modal = document.querySelector('.modal');\n  modal.addEventListener('click', event => {\n    event.stopPropagation();\n  });\n\n  bookInfoMarkup(dataBook);\n  setOrderBtnText(modal, dataBook);\n\n  document.body.style.overflow = 'hidden';\n\n  backdrop.addEventListener('click', closeModal);\n  window.document.addEventListener('keydown', event => {\n    if (event.key === 'Escape') {\n      closeModal();\n    }\n  });\n\n  const closeBtn = document.querySelector('.close-btn ');\n  closeBtn.addEventListener('click', closeModal);\n\n  const orderBtn = document.querySelector('[data-name=\"order-btn\"]');\n  orderBtn.addEventListener('click', onClick);\n\n  const bookInformation = document.querySelector('.book-information');\n  const markup = bookInfoMarkup(dataBook);\n  bookInformation.innerHTML = markup;\n\n  function closeModal() {\n    backdrop.classList.add('is-hidden');\n    bookInformation.innerHTML = '';\n    orderBtn.removeEventListener('click', onClick);\n    document.body.style.overflow = '';\n  }\n\n  function onClick() {\n    const textAfterRemoveBtn = document.querySelector('.text-input');\n    const value = localStorage.getItem(LOCAL_KEY);\n    if (value === null) {\n      localStorage.setItem(LOCAL_KEY, JSON.stringify([bookId]));\n      orderBtn.textContent = 'remove from the shopping list';\n      orderBtn.classList.add('order-btn-remove-state');\n      textAfterRemoveBtn.innerHTML = `<p class='text-remove-btn'> Congratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.</p>`;\n    } else {\n      const ids = JSON.parse(value);\n      const hasBookId = ids.includes(bookId);\n\n      if (hasBookId) {\n        const updatedIds = ids.filter(id => id !== bookId);\n        localStorage.setItem(LOCAL_KEY, JSON.stringify(updatedIds));\n        orderBtn.textContent = 'Add to shopping list';\n        orderBtn.classList.add('order-btn');\n        orderBtn.classList.remove('order-btn-remove-state');\n        textAfterRemoveBtn.innerHTML = '';\n      } else {\n        ids.push(bookId);\n        localStorage.setItem(LOCAL_KEY, JSON.stringify(ids));\n        orderBtn.textContent = 'remove from the shopping list';\n        orderBtn.classList.add('order-btn-remove-state');\n        orderBtn.classList.remove('order-btn');\n        textAfterRemoveBtn.innerHTML = `<p class='text-remove-btn'> Congratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.</p>`;\n      }\n    }\n  }\n}\n\nfunction bookInfoMarkup({ book_image, title, author, description, buy_links }) {\n  const amazonUrl = buy_links[0].url;\n  const appleUrl = buy_links[1].url;\n  const bookShopUrl = buy_links[0].url;\n\n  return `\n      <img class='book_modal-book-img' src=\"${\n        book_image ? book_image : './src/images/without-Image/noImage-Large.png'\n      }\" alt='Book image'>\n    <div class='book_modal-book-descr-inf'>\n    <p class='book_modal-book-title'>${title ? title : 'No title.'}</p>\n    <p class='book_modal-book-author'>${author ? author : 'No author.'}</p>\n    <p class='book_modal-book-description'>${\n      description ? description : 'No description.'\n    }</p>\n    <ul class='book_modal-links-group'>\n    <li class='book_modal-links'><a href=${amazonUrl} target=\"_blank\"> <img  src='${amazon}' srcset=\"${amazon} 1x, ${amazon2x} 2x\" alt ='Amazon Icon'></a></li>\n    <li class='book_modal-links'><a href=${appleUrl} target=\"_blank\"> <img  src='${apple}' srcset=\"${apple} 1x, ${apple2x} 2x\" alt ='Apple Icon'></a></li>\n    <li class='book_modal-links'><a href=${bookShopUrl} target=\"_blank\"> <img  src='${bookShop}' srcset=\"${bookShop} 1x, ${bookShop2x} 2x\" alt ='Book Shop Icon'></a></li>\n    </ul>\n    </div>\n       `;\n}\n\nfunction setOrderBtnText(modal, bookId) {\n  const orderBtn = document.querySelector('[data-name=\"order-btn\"]');\n  const textAfterRemoveBtn = document.querySelector('.text-input');\n  const hasLocalStorageID = localStorage.getItem(LOCAL_KEY);\n  console.log(hasLocalStorageID);\n  console.log(bookId);\n  if (hasLocalStorageID === null) {\n    orderBtn.textContent = 'Add to shopping list';\n    orderBtn.classList.add('order-btn');\n    orderBtn.classList.remove('order-btn-remove-state');\n    textAfterRemoveBtn.innerHTML = '';\n  } else {\n    const bookInStorage = JSON.parse(hasLocalStorageID);\n    const textOnOrderBtn = bookInStorage.includes(bookId._id);\n    if (textOnOrderBtn) {\n      orderBtn.textContent = 'remove from the shopping list';\n      orderBtn.classList.add('order-btn-remove-state');\n      orderBtn.classList.remove('order-btn');\n      textAfterRemoveBtn.innerHTML = `<p class='text-remove-btn'> Congratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.</p>`;\n    } else {\n      orderBtn.textContent = 'Add to shopping list';\n      orderBtn.classList.add('order-btn');\n      orderBtn.classList.remove('order-btn-remove-state');\n      textAfterRemoveBtn.innerHTML = '';\n    }\n  }\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"azb7q\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"fS0QX\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lLZQs\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"7W0St\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"68qT8\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"5K0oH\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"auHWm\")).toString();","import { getCategories } from '../js/getcategories';\nimport { booksCategory } from './apiBooks';\nimport { renderAllCategories } from './section-main-books';\nimport { openModal } from './modal';\n\nconst listOfCategories = document.querySelector('.categories__list');\n\ngetCategories().then(response => {\n  const sortedCategories = response\n    .map(categorie => {\n      return `<li class=\"categories__item\" data-category-name='${categorie.list_name}'>${categorie.list_name}</li>`;\n    })\n    .sort()\n    .join('');\n\n  listOfCategories.innerHTML = `\n       <li class='categories__item active__category' data-category-name='All categories'>All categories</li>`;\n  listOfCategories.insertAdjacentHTML('beforeend', sortedCategories);\n  const allItems = document.querySelectorAll('.categories__item');\n  allItems.forEach((item) => item.addEventListener('click', onCategoryClick));\n});\n\nfunction onCategoryClick(evt) {\n  evt.preventDefault();\n  const categoryName = evt.target.dataset.categoryName;\n\n  if (!categoryName) {\n    return;\n  }\n\n  const activeCategorie = document.querySelector('.active__category');\n  activeCategorie.classList.remove('active__category');\n  const currentCategory = document.querySelector(\n    `[data-category-name=\"${categoryName}\"]`\n  );\n  currentCategory.classList.add('active__category');\n\n  // ----------------------------------------Блок Маргарити---------------------------------------\n\n  let mainTitle = document.createElement('h1');\n  const categoryBooksList = document.createElement('ul');\n  mainTitle.classList.add('bookcase__title', 'bookcase-text');\n  mainTitle.innerHTML = normalizeMainTitle(categoryName);\n  categoryBooksList.classList.add('bookshelf__content', 'book-card__list');\n\n  if (categoryName === 'All categories') {\n    renderAllCategories();\n    return;\n  }\n\n  booksCategory(categoryName).then(data => {\n    const mainSectionsBooks = document.querySelector('.bookcase');\n    const booksList = data\n      .map(\n        ({\n          book_image,\n          book_image_height,\n          book_image_width,\n          author,\n          title,\n          buy_links,\n          _id,\n        }) => {\n          return `<li class='book-card__item' data-id=${_id}>\n<a class='book-card__link' href='#' data-id='${_id}'>\n<div class='book-card__wrapper'>\n<img\nclass='book-card__image'\nsrc='${book_image}'\nalt=\"Here must be book's name\"\nwidth='${book_image_width}'\nheight = '${book_image_height}'\n/>\n<div class='book-card__overlay'>\n<p class='book-card__quick-view-text'>quick view</p>\n</div>\n</div>\n</a>\n<div class='book-card__wrap'>\n<h3 class='book-card__name'>${title ? title : 'Unknown title'}</h3>\n<p class='book-card__author'>${author ? author : 'Unknown author'}</p>\n</div>\n</li>`;\n        }\n      )\n      .join('');\n    categoryBooksList.innerHTML = booksList;\n    mainSectionsBooks.innerHTML = '';\n    mainSectionsBooks.appendChild(mainTitle);\n    mainSectionsBooks.appendChild(categoryBooksList);\n\n        \n const bookElements = document.querySelectorAll('.book-card__item');\n bookElements.forEach(el =>\n   el.addEventListener('click', event => {\n     event.preventDefault();\n     openModal(el);\n   })\n );\n\n  });\n}\n\nfunction normalizeMainTitle(title) {\n  let lastWordCategoryName = title.split(' ');\n  if (lastWordCategoryName.length === 1) {\n    return lastWordCategoryName;\n  }\n  lastWordCategoryName = lastWordCategoryName[lastWordCategoryName.length - 1];\n  let categoryName = title.split(' ');\n  categoryName.pop();\n  let innerCategoryName = categoryName.join(' ');\n  return `${innerCategoryName} <span class=\"bookcase__filter\">${lastWordCategoryName}</span>`;\n}\n","export async function getCategories() {\n  try {\n    const response = await fetch(\n      'https://books-backend.p.goit.global/books/category-list'\n    );\n    return response.json();\n  } catch (error) {\n    console.log(error);\n  }\n}\n","let topBtn = document.querySelector(\".top-btn\");\n\n// On Click, Scroll to the page's top, replace 'smooth' with 'auto' if you don't want smooth scrolling\ntopBtn.onclick = () => window.scrollTo({ top: 0, behavior: \"smooth\" });\n\n// On scroll, Show/Hide the btn with animation\nwindow.onscroll = () => window.scrollY > 1000 ? topBtn.style.opacity = 1 : topBtn.style.opacity = 0","const htmlChangeClass = document.querySelector('html');\nconst darkTheme = document.querySelector('.switcher__radio--dark');\nconst lightTheme = document.querySelector('.switcher__radio--light');\n\ndarkTheme.addEventListener('click', toggleThemeOnDark);\nlightTheme.addEventListener('click', toggleThemeOnLight);\nwindow.addEventListener('load', rememberSelectedTheme);\n\nconst localStorageKey = 'save-theme';\nlet savedTheme = '';\n\nfunction toggleThemeOnDark() {\n  htmlChangeClass.classList.add('dark');\n  darkTheme.checked = true;\n  localStorage.setItem(localStorageKey, 'dark');\n}\n\nfunction toggleThemeOnLight() {\n  htmlChangeClass.classList.remove('dark');\n  localStorage.removeItem(localStorageKey);\n}\n\nfunction rememberSelectedTheme() {\n  savedTheme = localStorage.getItem(localStorageKey);\n  if (savedTheme !== 'dark') {\n    return;\n  } else toggleThemeOnDark();\n}\n","let mask = document.querySelector('.mask');\n\nwindow.addEventListener('load', () => {\n  mask.classList.add('hide');\n  setTimeout (() => {\n    mask.remove();\n  }, 600)\n})"],"names":["parcelRequire","register","JSON","parse","$1X6yp","$cca386eea4e4f9fb$exports","URL","resolve","import","meta","url","toString","$f29d469ba5a39f9d$exports","$5a96558ac3e49cf6$exports","$47859cc8471de495$exports","$cc7c4c6d145696d1$exports","$de056baf34fd0a20$exports","async","$8a7e756c566dd1ea$export$a7f6cffb6b8ba11c","element","bookId","dataset","id","console","log","dataBook","booksId","backdrop","document","querySelector","classList","remove","modal","addEventListener","event","stopPropagation","$8a7e756c566dd1ea$var$bookInfoMarkup","orderBtn","textAfterRemoveBtn","hasLocalStorageID","localStorage","getItem","textContent","add","innerHTML","includes","_id","$8a7e756c566dd1ea$var$setOrderBtnText","body","style","overflow","closeModal","window","key","onClick","bookInformation","markup","removeEventListener","value","setItem","stringify","ids","updatedIds","filter","push","book_image","title","author","description","buy_links","amazonUrl","appleUrl","bookShopUrl","$parcel$interopDefault","$9edbed6d95ccc87c$exports","$37ea5c4ac5cea786$var$mainSectionsBooks","$37ea5c4ac5cea786$var$renderWidth","innerWidth","location","reload","$37ea5c4ac5cea786$var$renderedBooks","$37ea5c4ac5cea786$export$5d9ce0d4feca8c54","containerBooksList","createElement","booksApi","then","data","markap","map","list_name","books","book_image_height","book_image_width","image","slice","join","appendChild","querySelectorAll","forEach","el","preventDefault","$903d034389f4350a$var$listOfCategories","$903d034389f4350a$var$onCategoryClick","evt","categoryName","target","mainTitle","categoryBooksList","lastWordCategoryName","split","length","pop","$903d034389f4350a$var$normalizeMainTitle","booksCategory","mainSectionsBooks","booksList","fetch","json","error","response","sortedCategories","categorie","sort","insertAdjacentHTML","item","$1c5798ed1721818f$var$topBtn","onclick","scrollTo","top","behavior","onscroll","scrollY","opacity","$dc52554f50615294$var$htmlChangeClass","$dc52554f50615294$var$darkTheme","$dc52554f50615294$var$lightTheme","$dc52554f50615294$var$toggleThemeOnDark","removeItem","$dc52554f50615294$var$savedTheme","checked","$bdfcdc80b4c38739$var$mask","setTimeout"],"version":3,"file":"index.faa19219.js.map"}