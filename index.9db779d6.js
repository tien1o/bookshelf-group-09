function e(e){return e&&e.__esModule?e.default:e}var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=o.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,o.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,o){n[e]=o},o.parcelRequired7c6=a),a("kyEFX").register(JSON.parse('{"5ZPII":"index.9db779d6.js","azb7q":"amazon.06fa7713.png","fS0QX":"amazon@2x.4eae58f9.png","lLZQs":"book.57ecc8dc.png","7W0St":"book@2x.c5385d25.png","68qT8":"book-shop.e5effbae.png","5K0oH":"book-shop@2.3b8922c8.png","auHWm":"noImage-Medium.53d4ac22.png","etMPu":"shopping-list.9240bb3e.css","cT7DD":"shopping-list.8ba583a7.js","a8cj2":"shopping-list.69533c38.js"}')),a("1X6yp");var s,i=a("1X6yp");i=a("1X6yp");s=new URL(a("kyEFX").resolve("azb7q"),import.meta.url).toString();var r;r=new URL(a("kyEFX").resolve("fS0QX"),import.meta.url).toString();var l;l=new URL(a("kyEFX").resolve("lLZQs"),import.meta.url).toString();var c;c=new URL(a("kyEFX").resolve("7W0St"),import.meta.url).toString();var d;d=new URL(a("kyEFX").resolve("68qT8"),import.meta.url).toString();var _;_=new URL(a("kyEFX").resolve("5K0oH"),import.meta.url).toString();async function m(e){const o=e.dataset.id;console.log(o);const t=await(0,i.booksId)(o);console.log(t);const n=document.querySelector(".backdrop");n.classList.remove("is-hidden");const a=document.querySelector(".modal");a.addEventListener("click",(e=>{e.stopPropagation()})),p(t),function(e,o){const t=document.querySelector('[data-name="order-btn"]'),n=document.querySelector(".text-input"),a=localStorage.getItem("booksID");if(console.log(a),console.log(o),null===a)t.textContent="Add to shopping list",t.classList.add("order-btn"),t.classList.remove("order-btn-remove-state"),n.innerHTML="";else{JSON.parse(a).includes(o._id)?(t.textContent="remove from the shopping list",t.classList.add("order-btn-remove-state"),t.classList.remove("order-btn"),n.innerHTML="<p class='text-remove-btn'> Congratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.</p>"):(t.textContent="Add to shopping list",t.classList.add("order-btn"),t.classList.remove("order-btn-remove-state"),n.innerHTML="")}}(0,t),document.body.style.overflow="hidden",n.addEventListener("click",c),window.document.addEventListener("keydown",(e=>{"Escape"===e.key&&c()}));document.querySelector(".close-btn ").addEventListener("click",c);const s=document.querySelector('[data-name="order-btn"]');s.addEventListener("click",d);const r=document.querySelector(".book-information"),l=p(t);function c(){n.classList.add("is-hidden"),r.innerHTML="",s.removeEventListener("click",d),document.body.style.overflow=""}function d(){const e=document.querySelector(".text-input"),t=localStorage.getItem("booksID");if(null===t)localStorage.setItem("booksID",JSON.stringify([o])),s.textContent="remove from the shopping list",s.classList.add("order-btn-remove-state"),e.innerHTML="<p class='text-remove-btn'> Congratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.</p>";else{const n=JSON.parse(t);if(n.includes(o)){const t=n.filter((e=>e!==o));localStorage.setItem("booksID",JSON.stringify(t)),s.textContent="Add to shopping list",s.classList.add("order-btn"),s.classList.remove("order-btn-remove-state"),e.innerHTML=""}else n.push(o),localStorage.setItem("booksID",JSON.stringify(n)),s.textContent="remove from the shopping list",s.classList.add("order-btn-remove-state"),s.classList.remove("order-btn"),e.innerHTML="<p class='text-remove-btn'> Congratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.</p>"}}r.innerHTML=l}function p({book_image:o,title:t,author:n,description:a,buy_links:i}){const m=i[0].url,p=i[1].url,u=i[0].url;return`\n      <img class='book_modal-book-img' src="${o||"./src/images/without-Image/noImage-Large.png"}" alt='Book image'>\n    <div class='book_modal-book-descr-inf'>\n    <p class='book_modal-book-title'>${t||"No title."}</p>\n    <p class='book_modal-book-author'>${n||"No author."}</p>\n    <p class='book_modal-book-description'>${a||"No description."}</p>\n    <ul class='book_modal-links-group'>\n    <li class='book_modal-links'><a href=${m} target="_blank"> <img  src='${e(s)}' srcset="${e(s)} 1x, ${e(r)} 2x" alt ='Amazon Icon'></a></li>\n    <li class='book_modal-links'><a href=${p} target="_blank"> <img  src='${e(l)}' srcset="${e(l)} 1x, ${e(c)} 2x" alt ='Apple Icon'></a></li>\n    <li class='book_modal-links'><a href=${u} target="_blank"> <img  src='${e(d)}' srcset="${e(d)} 1x, ${e(_)} 2x" alt ='Book Shop Icon'></a></li>\n    </ul>\n    </div>\n       `}i=a("1X6yp");const u=document.querySelector(".categories__list");function b(e){e.preventDefault();const o=e.target.dataset.categoryName;if(!o)return;document.querySelector(".active__category").classList.remove("active__category");document.querySelector(`[data-category-name="${o}"]`).classList.add("active__category");let t=document.createElement("h1");const n=document.createElement("ul");t.classList.add("bookcase__title","bookcase-text"),t.innerHTML=function(e){let o=e.split(" ");if(1===o.length)return o;o=o[o.length-1];let t=e.split(" ");return t.pop(),`${t.join(" ")} <span class="bookcase__filter">${o}</span>`}(o),n.classList.add("bookshelf__content","book-card__list"),"All categories"!==o?(0,i.booksCategory)(o).then((e=>{const o=document.querySelector(".bookcase"),a=e.map((({book_image:e,book_image_height:o,book_image_width:t,author:n,title:a,buy_links:s,_id:i})=>`<li class='book-card__item' data-id=${i}>\n<a class='book-card__link' href='#' data-id='${i}'>\n<div class='book-card__wrapper'>\n<img\nclass='book-card__image'\nsrc='${e}'\nalt="Here must be book's name"\nwidth='${t}'\nheight = '${o}'\n/>\n<div class='book-card__overlay'>\n<p class='book-card__quick-view-text'>quick view</p>\n</div>\n</div>\n</a>\n<div class='book-card__wrap'>\n<h3 class='book-card__name'>${a||"Unknown title"}</h3>\n<p class='book-card__author'>${n||"Unknown author"}</p>\n</div>\n</li>`)).join("");n.innerHTML=a,o.innerHTML="",o.appendChild(t),o.appendChild(n);document.querySelectorAll(".book-card__item").forEach((e=>e.addEventListener("click",(o=>{o.preventDefault(),m(e)}))))})):f()}(async function(){try{return(await fetch("https://books-backend.p.goit.global/books/category-list")).json()}catch(e){console.log(e)}})().then((e=>{const o=e.map((e=>`<li class="categories__item" data-category-name='${e.list_name}'>${e.list_name}</li>`)).sort().join("");u.innerHTML="\n       <li class='categories__item active__category' data-category-name='All categories'>All categories</li>",u.insertAdjacentHTML("beforeend",o);document.querySelectorAll(".categories__item").forEach((e=>e.addEventListener("click",b)))}));var k;k=new URL(a("kyEFX").resolve("auHWm"),import.meta.url).toString();const g=document.querySelector(".bookcase");let h=375;window.addEventListener("resize",(function(){(window.innerWidth>767&&h<768||window.innerWidth>1439&&h<1440||window.innerWidth<1440&&h>1439||window.innerWidth<768&&h>767)&&location.reload()})),h=window.innerWidth;let v=1;async function f(){const e=document.createElement("ul");e.classList.add("bookshelf__list"),e.classList.add("list"),await(0,i.booksApi)().then((o=>{const t=o.map((({list_name:e,books:o})=>`<li class='book__card__item'>\n<h2 class='bookshelf__title__category'>${e}</h2>\n<ul class='bookshelf__content book-card__list list'>${o.map((({_id:e,book_image_height:o,book_image_width:t,author:n,book_image:a,title:s})=>(a||(a=k.image,o=500,t=330),`<li class='book-card__item'data-id=${e}>\n <a class='book-card__link' href='#' data-id='${e}'>\n   <div class='book-card__wrapper'>\n     <img class='book-card__image' src='${a}' alt="Here must be book's name"\n     loading="lazy"\n     width='${t}'\n     height='${o}'>\n     <div class='book-card__overlay'>\n       <p class='book-card__quick-view-text'>quick view</p>\n     </div>\n   </div>\n </a>\n <div class='book-card__wrap'>\n   <h3 class='book__card__name'>${s||"Unknown title"}</h3>\n   <p class='book__card__author'>${n||"Unknown author"}</p>\n </div>\n</li>`))).slice(0,v).join("")}\n</ul>\n<button class='book__see__more__btn' type='button' data-see-more data-category-name='${e}'>see more</button>\n</li>`)).join("");e.innerHTML=t,g.innerHTML="<h1 class='bookcase__title'>\n          Best Sellers <span class='bookcase__filter'>Books</span>\n        </h1>",g.appendChild(e);document.querySelectorAll(".book-card__item").forEach((e=>e.addEventListener("click",(o=>{o.preventDefault(),m(e)}))));document.querySelectorAll(".book__see__more__btn").forEach((e=>e.addEventListener("click",(e=>{e.preventDefault(),b(e)}))))}))}v=h<768?1:h>767&&h<1440?3:5,f(),a("75VGX");let y=document.querySelector(".top-btn");y.onclick=()=>window.scrollTo({top:0,behavior:"smooth"}),window.onscroll=()=>window.scrollY>1e3?y.style.opacity=1:y.style.opacity=0,a("iULxv");let w=document.querySelector(".mask");window.addEventListener("load",(()=>{w.classList.add("hide"),setTimeout((()=>{w.remove()}),600)})),a("aown8");
//# sourceMappingURL=index.9db779d6.js.map
