function e(e,t,o,n){Object.defineProperty(e,t,{get:o,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},s={},i=o.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in s){var t=s[e];delete s[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){s[e]=t},o.parcelRequired7c6=i),i.register("kyEFX",(function(t,o){var n,s;e(t.exports,"register",(function(){return n}),(function(e){return n=e})),e(t.exports,"resolve",(function(){return s}),(function(e){return s=e}));var i={};n=function(e){for(var t=Object.keys(e),o=0;o<t.length;o++)i[t[o]]=e[t[o]]},s=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),i("kyEFX").register(JSON.parse('{"5ZPII":"index.ed40b112.js","azb7q":"amazon.06fa7713.png","fS0QX":"amazon@2x.4eae58f9.png","lLZQs":"book.57ecc8dc.png","7W0St":"book@2x.c5385d25.png","68qT8":"book-shop.e5effbae.png","5K0oH":"book-shop@2.3b8922c8.png","auHWm":"noImage-Medium.53d4ac22.png","5UbS1":"index.9c2be867.css","4l2W5":"index.961ce3f8.js"}')),i("1X6yp");var a,r=i("1X6yp");r=i("1X6yp");a=new URL(i("kyEFX").resolve("azb7q"),import.meta.url).toString();var c;c=new URL(i("kyEFX").resolve("fS0QX"),import.meta.url).toString();var l;l=new URL(i("kyEFX").resolve("lLZQs"),import.meta.url).toString();var d;d=new URL(i("kyEFX").resolve("7W0St"),import.meta.url).toString();var u;u=new URL(i("kyEFX").resolve("68qT8"),import.meta.url).toString();var m;m=new URL(i("kyEFX").resolve("5K0oH"),import.meta.url).toString();async function p(e){const t=e.dataset.id;console.log(t);const o=await(0,r.booksId)(t);console.log(o);const n=document.querySelector(".backdrop");n.classList.remove("is-hidden");const s=document.querySelector(".modal");s.addEventListener("click",(e=>{e.stopPropagation()})),_(o),function(e,t){const o=document.querySelector('[data-name="order-btn"]'),n=document.querySelector(".text-input"),s=localStorage.getItem("booksID");if(console.log(s),console.log(t),null===s)o.textContent="Add to shopping list",o.classList.add("order-btn"),o.classList.remove("order-btn-remove-state"),n.innerHTML="";else{JSON.parse(s).includes(t._id)?(o.textContent="remove from the shopping list",o.classList.add("order-btn-remove-state"),o.classList.remove("order-btn"),n.innerHTML="<p class='text-remove-btn'> Congratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.</p>"):(o.textContent="Add to shopping list",o.classList.add("order-btn"),o.classList.remove("order-btn-remove-state"),n.innerHTML="")}}(0,o),document.body.style.overflow="hidden",n.addEventListener("click",l),window.document.addEventListener("keydown",(e=>{"Escape"===e.key&&l()}));document.querySelector(".close-btn ").addEventListener("click",l);const i=document.querySelector('[data-name="order-btn"]');i.addEventListener("click",d);const a=document.querySelector(".book-information"),c=_(o);function l(){n.classList.add("is-hidden"),a.innerHTML="",i.removeEventListener("click",d),document.body.style.overflow=""}function d(){const e=document.querySelector(".text-input"),o=localStorage.getItem("booksID");if(null===o)localStorage.setItem("booksID",JSON.stringify([t])),i.textContent="remove from the shopping list",i.classList.add("order-btn-remove-state"),e.innerHTML="<p class='text-remove-btn'> Congratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.</p>";else{const n=JSON.parse(o);if(n.includes(t)){const o=n.filter((e=>e!==t));localStorage.setItem("booksID",JSON.stringify(o)),i.textContent="Add to shopping list",i.classList.add("order-btn"),i.classList.remove("order-btn-remove-state"),e.innerHTML=""}else n.push(t),localStorage.setItem("booksID",JSON.stringify(n)),i.textContent="remove from the shopping list",i.classList.add("order-btn-remove-state"),i.classList.remove("order-btn"),e.innerHTML="<p class='text-remove-btn'> Congratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.</p>"}}a.innerHTML=c}function _({book_image:e,title:o,author:n,description:s,buy_links:i}){const r=i[0].url,p=i[1].url,_=i[0].url;return`\n      <img class='book-img' src="${e||"./src/images/without-Image/noImage-Large.png"}" alt='Book image'>\n    <div class='book-descr-inf'>\n    <p class='book-title'>${o||"No title."}</p>\n    <p class='book-author'>${n||"No author."}</p>\n    <p class='book-description'>${s||"No description."}</p>\n    <ul class='links-group'>\n    <li class='links'><a href=${r} target="_blank"> <img  src='${t(a)}' srcset="${t(a)} 1x, ${t(c)} 2x" alt ='Amazon Icon'></a></li>\n    <li class='links'><a href=${p} target="_blank"> <img  src='${t(l)}' srcset="${t(l)} 1x, ${t(d)} 2x" alt ='Apple Icon'></a></li>\n    <li class='links'><a href=${_} target="_blank"> <img  src='${t(u)}' srcset="${t(u)} 1x, ${t(m)} 2x" alt ='Book Shop Icon'></a></li>\n    </ul>\n    </div>\n       `}var b;b=new URL(i("kyEFX").resolve("auHWm"),import.meta.url).toString();const k=document.querySelector(".bookcase");let g=375;window.addEventListener("resize",(function(){(window.innerWidth>767&&g<768||window.innerWidth>1439&&g<1440||window.innerWidth<1440&&g>1439||window.innerWidth<768&&g>767)&&location.reload()})),g=window.innerWidth;let v=1;async function h(){const e=document.createElement("ul");e.classList.add("bookshelf__list"),e.classList.add("list"),await(0,r.booksApi)().then((t=>{const o=t.map((({list_name:e,books:t})=>`<li class='book__card__item'>\n<h2 class='bookshelf__title__category'>${e}</h2>\n<ul class='bookshelf__content book-card__list list'>${t.map((({_id:e,book_image_height:t,book_image_width:o,author:n,book_image:s,title:i})=>(s||(s=b.image,t=500,o=330),`<li class='book-card__item'data-id=${e}>\n <a class='book-card__link' href='#' data-id='${e}'>\n   <div class='book-card__wrapper'>\n     <img class='book-card__image' src='${s}' alt="Here must be book's name"\n     loading="lazy"\n     width='${o}'\n     height='${t}'>\n     <div class='book-card__overlay'>\n       <p class='book-card__quick-view-text'>quick view</p>\n     </div>\n   </div>\n </a>\n <div class='book-card__wrap'>\n   <h3 class='book__card__name'>${i||"Unknown title"}</h3>\n   <p class='book__card__author'>${n||"Unknown author"}</p>\n </div>\n</li>`))).slice(0,v).join("")}\n</ul>\n<button class='book__see__more__btn' type='button' data-see-more data-category-name='${e}'>see more</button>\n</li>`)).join("");e.innerHTML=o,k.innerHTML="<h1 class='bookcase__title'>\n          Best Sellers <span class='bookcase__filter'>Books</span>\n        </h1>",k.appendChild(e);document.querySelectorAll(".book-card__item").forEach((e=>e.addEventListener("click",(t=>{t.preventDefault(),p(e)}))))}))}v=g<768?1:g>767&&g<1440?3:5,h(),i("75VGX");r=i("1X6yp");const f=document.querySelector(".categories__list");function y(e){e.preventDefault();const t=e.target.dataset.categoryName;if(!t)return;document.querySelector(".active__category").classList.remove("active__category");document.querySelector(`[data-category-name="${t}"]`).classList.add("active__category");let o=document.createElement("h1");const n=document.createElement("ul");o.classList.add("bookcase__title","bookcase-text"),o.innerHTML=function(e){let t=e.split(" ");if(1===t.length)return t;t=t[t.length-1];let o=e.split(" ");return o.pop(),`${o.join(" ")} <span class="bookcase__filter">${t}</span>`}(t),n.classList.add("bookshelf__content","book-card__list"),"All categories"!==t?(0,r.booksCategory)(t).then((e=>{const t=document.querySelector(".bookcase"),s=e.map((({book_image:e,book_image_height:t,book_image_width:o,author:n,title:s,buy_links:i,_id:a})=>`<li class='book-card__item'>\n<a class='book-card__link' href='#' data-id='${a}'>\n<div class='book-card__wrapper'>\n<img\nclass='book-card__image'\nsrc='${e}'\nalt="Here must be book's name"\nwidth='${o}'\nheight = '${t}'\n/>\n<div class='book-card__overlay'>\n<p class='book-card__quick-view-text'>quick view</p>\n</div>\n</div>\n</a>\n<div class='book-card__wrap'>\n<h3 class='book-card__name'>${s||"Unknown title"}</h3>\n<p class='book-card__author'>${n||"Unknown author"}</p>\n</div>\n</li>`)).join("");n.innerHTML=s,t.innerHTML="",t.appendChild(o),t.appendChild(n)})):h()}(async function(){try{return(await fetch("https://books-backend.p.goit.global/books/category-list")).json()}catch(e){console.log(e)}})().then((e=>{const t=e.map((e=>`<li class="categories__item" data-category-name='${e.list_name}'>${e.list_name}</li>`)).sort().join("");f.innerHTML="\n       <li class='categories__item active__category' data-category-name='All categories'>All categories</li>",f.insertAdjacentHTML("beforeend",t);document.querySelectorAll(".categories__item").forEach((()=>addEventListener("click",y)))}));let L=document.querySelector(".top-btn");L.onclick=()=>window.scrollTo({top:0,behavior:"smooth"}),window.onscroll=()=>window.scrollY>1e3?L.style.opacity=1:L.style.opacity=0;let w=document.querySelector(".mask");window.addEventListener("load",(()=>{w.classList.add("hide"),setTimeout((()=>{w.remove()}),600)}));const S=document.querySelector("[data-modal-open]"),E=document.querySelector("[data-modal-close]"),H=document.querySelector("[data-modal]"),q=document.querySelector('[data-action="sign-up"]'),$=document.querySelector('[data-action="sign-in"]'),x=document.querySelector(".authorization__bacdrop");function T(){H.classList.add("is-hidden"),document.body.style.overflow="",E.removeEventListener("click",T),x.removeEventListener("click",R),window.removeEventListener("keydown",A)}function A(e){"Escape"===e.key&&T()}function R(e){e.currentTarget===e.target&&T()}S.addEventListener("click",(function(){H.classList.remove("is-hidden"),document.body.style.overflow="hidden",E.addEventListener("click",T),x.addEventListener("click",R),window.addEventListener("keydown",A)})),E.addEventListener("click",T),q.disabled=!0;const F=document.querySelector(".authorization__btn__submit"),I=document.querySelector("#sign-in"),M=document.querySelector("#sign-up");$.addEventListener("click",(e=>{e.preventDefault(),q.classList.remove("active-link"),q.classList.add("desactive-link"),$.classList.remove("desactive-link"),$.classList.add("active-link"),F.textContent="Sign in",I.classList.remove("display-form"),M.classList.add("display-form"),q.disabled=!1,$.disabled=!0})),q.addEventListener("click",(e=>{e.preventDefault(),q.classList.add("active-link"),q.classList.remove("desactive-link"),$.classList.add("desactive-link"),$.classList.remove("active-link"),F.textContent="Sign up",I.classList.add("display-form"),M.classList.remove("display-form"),q.disabled=!0,$.disabled=!1}));const C=document.querySelector(".js-user-bar");document.querySelector(".js-log-out-btn");C.addEventListener("click",(function(){C.classList.toggle("is-active")}));
//# sourceMappingURL=index.ed40b112.js.map
